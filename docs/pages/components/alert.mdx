# Alert Component

import { Alert, AlertTitle, AlertDescription } from '../../components/ui/alert'
import ComponentPreview, { PreviewModeContext } from '../../components/ComponentPreview'
import ComponentCode from '../../components/ComponentCode'
import { useContext } from 'react'
import { Text, View } from 'react-native'
import Feather from 'react-native-vector-icons/Feather'

export const AlertWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <Alert mode={mode} {...props} />;
}

export const AlertTitleWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <AlertTitle mode={mode} {...props} />;
}

export const AlertDescriptionWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <AlertDescription mode={mode} {...props} />;
}

export const CustomAlertWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <AlertWithMode className={
    mode === 'dark' ? 'bg-dark-primary/20 border-dark-primary' : 'bg-primary/20 border-primary'
  } mode={mode} {...props} />;
}

export const CustomTextWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <Text className={
    mode === 'dark' ? 'text-dark-muted-foreground text-xs' : 'text-muted-foreground text-xs'
  } {...props} />;
}

export const CustomViewWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <View {...props} className={`${props.className} ${mode === 'dark' ? 'bg-dark-accent' : 'bg-accent'}`} />;
}

export const CustomTextContentWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <Text className={mode === 'dark' ? 'text-dark-foreground' : 'text-foreground'} {...props} />;
}

export const CustomFeatherWithMode = (props) => {
  const mode = useContext(PreviewModeContext) || 'light';
  return <Feather {...props} color={mode === 'dark' ? '#FFFFFF88' : '#00000088'} />;
}

## Installation

The Alert component provides contextual feedback messages for typical user actions.

<ComponentCode 
  language="bash"
  code="npx nativecn add alert"
  title="Installation Command"
/>

## Basic Variants

<ComponentPreview
  title="Alert Variants"
  code={`<Alert mode="...">
  <AlertTitle>Default Alert</AlertTitle>
  <AlertDescription>This is a default alert — check it out!</AlertDescription>
</Alert>

<Alert mode="..." variant="destructive">
  <AlertTitle>Destructive Alert</AlertTitle>
  <AlertDescription>This is a destructive alert — be careful!</AlertDescription>
</Alert>`}
>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', width: '100%' }}>
    <AlertWithMode>
      <AlertTitleWithMode>Default Alert</AlertTitleWithMode>
      <AlertDescriptionWithMode>This is a default alert — check it out!</AlertDescriptionWithMode>
    </AlertWithMode>
    
    <AlertWithMode variant="destructive">
      <AlertTitleWithMode>Destructive Alert</AlertTitleWithMode>
      <AlertDescriptionWithMode>This is a destructive alert — be careful!</AlertDescriptionWithMode>
    </AlertWithMode>
  </div>
</ComponentPreview>

## With Icons

<ComponentPreview
  title="Alerts with Icons"
  code={`<Alert mode="..." icon="info">
  <AlertTitle>Information</AlertTitle>
  <AlertDescription>This alert includes an info icon.</AlertDescription>
</Alert>

<Alert mode="..." variant="destructive" icon="alert-triangle">
  <AlertTitle>Warning</AlertTitle>
  <AlertDescription>This destructive alert includes a warning icon.</AlertDescription>
</Alert>`}
>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', width: '100%' }}>
    <AlertWithMode icon="info">
      <AlertTitleWithMode>Information</AlertTitleWithMode>
      <AlertDescriptionWithMode>This alert includes an info icon.</AlertDescriptionWithMode>
    </AlertWithMode>
    
    <AlertWithMode variant="destructive" icon="alert-triangle">
      <AlertTitleWithMode>Warning</AlertTitleWithMode>
      <AlertDescriptionWithMode>This destructive alert includes a warning icon.</AlertDescriptionWithMode>
    </AlertWithMode>
  </div>
</ComponentPreview>

## Custom Content

<ComponentPreview
  title="Alert with Custom Content"
  code={`<Alert mode="..." className={
  mode === 'dark' ? 'bg-dark-primary/20 border-dark-primary' : 'bg-primary/20 border-primary'
}>
  <AlertTitle>Success</AlertTitle>
  <AlertDescription>
    Your changes have been successfully saved. The new settings will take effect immediately.
  </AlertDescription>
</Alert>`}
>
  <CustomAlertWithMode icon="check-circle">
    <AlertTitleWithMode>Success</AlertTitleWithMode>
    <AlertDescriptionWithMode>
      Your changes have been successfully saved. The new settings will take effect immediately.
    </AlertDescriptionWithMode>
  </CustomAlertWithMode>
</ComponentPreview>

## Complex Alert

<ComponentPreview
  title="Complex Alert with Rich Content"
  code={`<Alert mode="..." icon="bell">
  <AlertTitle>Notification</AlertTitle>
  <AlertDescription>
    <Text>You have a new message from the system.</Text>

    <View className={\`mt-2 mb-2 p-2 rounded-md \${isDark ? 'bg-dark-accent' : 'bg-accent'}\`}>
      <Text className={isDark ? 'text-dark-foreground' : 'text-foreground'}>
        System maintenance will be performed tomorrow at 2:00 AM UTC.
      </Text>
    </View>

    <View className="flex-row items-center gap-2 mt-1">
      <Feather name="clock" size={14} color={isDark ? '#FFFFFF88' : '#00000088'} />
      <Text
        className={
          isDark ? 'text-dark-muted-foreground text-xs' : 'text-muted-foreground text-xs'
        }
      >
        Received 5 minutes ago
      </Text>
    </View>
  </AlertDescription>
</Alert>`}
>
  <AlertWithMode icon="bell">
    <AlertTitleWithMode>Notification</AlertTitleWithMode>
    <AlertDescriptionWithMode>
      <Text>You have a new message from the system.</Text>

      <CustomViewWithMode className="mt-2 mb-2 p-2 rounded-md">
        <CustomTextContentWithMode>
          System maintenance will be performed tomorrow at 2:00 AM UTC.
        </CustomTextContentWithMode>
      </CustomViewWithMode>

      <View className="flex-row items-center gap-2 mt-1">
        <CustomFeatherWithMode name="clock" size={14} />
        <CustomTextWithMode>
          Received 5 minutes ago
        </CustomTextWithMode>
      </View>
    </AlertDescriptionWithMode>
  </AlertWithMode>
</ComponentPreview>

## Usage Example

<ComponentCode
  title="Basic Alert Usage with Responsive Mode"
  code={`import { Alert, AlertTitle, AlertDescription } from '../components/ui/alert';
import { useColorScheme } from 'react-native';

export function InfoAlert() {
  // Automatically use the device's color scheme
  const colorScheme = useColorScheme();
  
  return (
    <Alert 
      icon="info"
      mode={colorScheme} // 'light' or 'dark' based on system preference
    >
      <AlertTitle mode={colorScheme}>Important Information</AlertTitle>
      <AlertDescription mode={colorScheme}>
        This is an important message for the user.
      </AlertDescription>
    </Alert>
  );
}`}
/>

## Reference

<ComponentCode
  title="Alert Component Props"
  language="typescript"
  code={`interface AlertProps {
  variant?: 'default' | 'destructive';
  className?: string;
  children: React.ReactNode;
  icon?: string; // Name of the Feather icon
  mode?: 'light' | 'dark';
  renderIcon?: (props: IconProps) => React.ReactNode;
}

interface AlertTitleProps {
  className?: string;
  children: React.ReactNode;
  mode?: 'light' | 'dark';
}

interface AlertDescriptionProps {
  className?: string;
  children: React.ReactNode;
  mode?: 'light' | 'dark';
}`}
/>
